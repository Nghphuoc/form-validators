<form [formGroup]="phoneForm" (ngSubmit)="onSubmit()" class="space-y-4 p-4 bg-white rounded-lg shadow-md">
  <div formArrayName="phones" class="space-y-4">
    <div *ngFor="let phone of phones.controls; let i = index" class="flex items-center space-x-2">
      <div class="w-full">
        <label for="phone{{i}}" class="block text-sm font-medium text-gray-700 mb-1">Phone {{i + 1}}</label>
        <input 
          id="phone{{i}}" 
          [formControlName]="i" 
          class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
          placeholder="Enter phone number"
        />
        <div *ngIf="phone.invalid && phone.touched" class="text-red-500 text-sm mt-1">
          <span *ngIf="phone.errors?.['required']">Phone number is required.</span>
          <span *ngIf="phone.errors?.['pattern']">Phone number must be 10 digits.</span>
        </div>
      </div>
      <button 
        type="button" 
        (click)="removePhone(i)" 
        class="p-2 bg-red-500 text-white rounded-md hover:bg-red-600"
      >
        Remove
      </button>
    </div>
  </div>

  <div class="flex justify-between">
    <button 
      type="button" 
      (click)="addPhone()" 
      class="py-2 px-4 bg-blue-500 text-white rounded-md hover:bg-blue-600"
    >
      Add Phone
    </button>
    <button 
      type="submit" 
      [disabled]="phoneForm.invalid" 
      class="py-2 px-4 bg-green-500 text-white rounded-md hover:bg-green-600 disabled:bg-gray-400"
    >
      Submit
    </button>
  </div>
</form>
